{"version":3,"sources":["@traceur/generated/TemplateParser/5404","angular2/test/core/events/event_manager_spec.js","@traceur/generated/TemplateParser/5412","@traceur/generated/TemplateParser/5403","@traceur/generated/TemplateParser/5402","@traceur/generated/TemplateParser/5408","@traceur/generated/TemplateParser/5411","@traceur/generated/TemplateParser/5410","angular2/test/core/events/@traceur/generated/TemplateParser/25","angular2/test/core/events/@traceur/generated/TemplateParser/37","angular2/test/core/events/@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/13","angular2/test/core/events/@traceur/generated/TemplateParser/26","angular2/test/core/events/@traceur/generated/TemplateParser/3976","angular2/test/core/events/@traceur/generated/TemplateParser/24"],"names":[],"mappings":"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","file":"angular2/test/core/events/event_manager_spec.js","sourceRoot":"/Users/radokirov/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {describe, ddescribe, it, iit, xit, xdescribe, expect, beforeEach, el} from 'angular2/test_lib';\nimport {EventManager, EventManagerPlugin, DomEventsPlugin} from 'angular2/src/core/events/event_manager';\nimport {VmTurnZone} from 'angular2/src/core/zone/vm_turn_zone';\nimport {List, ListWrapper, Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {document} from 'angular2/src/facade/browser';\nimport {DOM} from 'angular2/src/dom/dom_adapter';\n\nexport function main() {\n  var domEventPlugin;\n\n  beforeEach(() => {\n    domEventPlugin = new DomEventsPlugin();\n  });\n\n  describe('EventManager', () => {\n\n    it('should delegate event bindings to plugins', () => {\n      var element = el('<div></div>');\n      var handler = (e) => e;\n      var plugin = new FakeEventManagerPlugin(['click']);\n      var manager = new EventManager([plugin, domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      expect(MapWrapper.get(plugin._nonBubbleEventHandlers, 'click')).toBe(handler);\n    });\n\n    it('should delegate bubbling events to plugins', () => {\n      var element = el('<div></div>');\n      var handler = (e) => e;\n      var plugin = new FakeEventManagerPlugin(['click']);\n      var manager = new EventManager([plugin, domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, '^click', handler);\n      expect(MapWrapper.get(plugin._bubbleEventHandlers, 'click')).toBe(handler);\n    });\n\n    it('should delegate event bindings to the first plugin supporting the event', () => {\n      var element = el('<div></div>');\n      var clickHandler = (e) => e;\n      var dblClickHandler = (e) => e;\n      var plugin1= new FakeEventManagerPlugin(['dblclick']);\n      var plugin2 = new FakeEventManagerPlugin(['click', 'dblclick']);\n      var manager = new EventManager([plugin1, plugin2], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', clickHandler);\n      manager.addEventListener(element, 'dblclick', dblClickHandler);\n      expect(MapWrapper.contains(plugin1._nonBubbleEventHandlers, 'click')).toBe(false);\n      expect(MapWrapper.get(plugin2._nonBubbleEventHandlers, 'click')).toBe(clickHandler);\n      expect(MapWrapper.contains(plugin2._nonBubbleEventHandlers, 'dblclick')).toBe(false);\n      expect(MapWrapper.get(plugin1._nonBubbleEventHandlers, 'dblclick')).toBe(dblClickHandler);\n    });\n\n    it('should throw when no plugin can handle the event', () => {\n      var element = el('<div></div>');\n      var plugin = new FakeEventManagerPlugin(['dblclick']);\n      var manager = new EventManager([plugin], new FakeVmTurnZone());\n      expect(() => manager.addEventListener(element, 'click', null))\n        .toThrowError('No event manager plugin found for event click');\n    });\n\n    it('by default events are only caught on same element', () => {\n      var element = el('<div><div></div></div>');\n      var child = DOM.firstChild(element);\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var manager = new EventManager([domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, 'click', handler);\n      DOM.dispatchEvent(child, dispatchedEvent);\n\n      expect(receivedEvent).toBe(null);\n    });\n\n    it('bubbled events are caught when fired from a child', () => {\n      var element = el('<div><div></div></div>');\n      // Workaround for https://bugs.webkit.org/show_bug.cgi?id=122755\n      DOM.appendChild(document.body, element);\n\n      var child = DOM.firstChild(element);\n      var dispatchedEvent = DOM.createMouseEvent('click');\n      var receivedEvent = null;\n      var handler = (e) => { receivedEvent = e; };\n      var manager = new EventManager([domEventPlugin], new FakeVmTurnZone());\n      manager.addEventListener(element, '^click', handler);\n      DOM.dispatchEvent(child, dispatchedEvent);\n\n      expect(receivedEvent).toBe(dispatchedEvent);\n    });\n  });\n}\n\nclass FakeEventManagerPlugin extends EventManagerPlugin {\n  _supports: List<string>;\n  _nonBubbleEventHandlers: Map;\n  _bubbleEventHandlers: Map;\n  constructor(supports: List<string>) {\n    super();\n    this._supports = supports;\n    this._nonBubbleEventHandlers = MapWrapper.create();\n    this._bubbleEventHandlers = MapWrapper.create();\n  }\n\n  supports(eventName: string): boolean {\n    return ListWrapper.contains(this._supports, eventName);\n  }\n\n  addEventListener(element, eventName: string, handler: Function, shouldSupportBubble: boolean) {\n    MapWrapper.set(shouldSupportBubble ? this._bubbleEventHandlers : this._nonBubbleEventHandlers,\n        eventName, handler);\n  }\n}\n\nclass FakeVmTurnZone extends VmTurnZone {\n  constructor() {\n    super({enableLongStackTrace: false});\n  }\n\n  run(fn) {\n    fn();\n  }\n\n  runOutsideAngular(fn) {\n    fn();\n  }\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","assert.argumentTypes($__placeholder__0)","assert.genericType($__placeholder__0)","assert.type.$__placeholder__0)","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}