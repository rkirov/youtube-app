{"version":3,"sources":["@traceur/generated/TemplateParser/5404","angular2/src/di/injector.js","angular2/src/di/@traceur/generated/TemplateParser/26","angular2/src/di/@traceur/generated/TemplateParser/23","angular2/src/di/@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/5403","@traceur/generated/TemplateParser/5402","@traceur/generated/TemplateParser/5408","@traceur/generated/TemplateParser/5411","@traceur/generated/TemplateParser/5409","angular2/src/di/@traceur/generated/TemplateParser/24","@traceur/generated/TemplateParser/5405","@traceur/generated/TemplateParser/847","angular2/src/di/@traceur/generated/TemplateParser/883","angular2/src/di/@traceur/generated/TemplateParser/887"],"names":[],"mappings":"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","file":"angular2/src/di/injector.js","sourceRoot":"/Users/radokirov/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {Map, List, MapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {Binding, BindingBuilder, bind} from './binding';\nimport {ProviderError, NoProviderError, InvalidBindingError,\n  AsyncBindingError, CyclicDependencyError, InstantiationError} from './exceptions';\nimport {FunctionWrapper, Type, isPresent, isBlank} from 'angular2/src/facade/lang';\nimport {Promise, PromiseWrapper} from 'angular2/src/facade/async';\nimport {Key} from './key';\n\nvar _constructing = new Object();\nvar _notFound = new Object();\n\nclass _Waiting {\n  promise:Promise;\n  constructor(promise:Promise) {\n    this.promise = promise;\n  }\n}\nfunction _isWaiting(obj):boolean {\n  return obj instanceof _Waiting;\n}\n\n\nexport class Injector {\n  _bindings:List;\n  _instances:List;\n  _parent:Injector;\n  _defaultBindings:boolean;\n  _asyncStrategy: _AsyncInjectorStrategy;\n  _syncStrategy:_SyncInjectorStrategy;\n  constructor(bindings:List, {parent=null, defaultBindings=false}={}) {\n    var flatten = _flattenBindings(bindings, MapWrapper.create());\n    this._bindings = this._createListOfBindings(flatten);\n    this._instances = this._createInstances();\n    this._parent = parent;\n    this._defaultBindings = defaultBindings;\n\n    this._asyncStrategy = new _AsyncInjectorStrategy(this);\n    this._syncStrategy = new _SyncInjectorStrategy(this);\n  }\n\n  get(token) {\n    return this._getByKey(Key.get(token), false, false, false);\n  }\n\n  getOptional(token) {\n    return this._getByKey(Key.get(token), false, false, true);\n  }\n\n  asyncGet(token) {\n    return this._getByKey(Key.get(token), true, false, false);\n  }\n\n  createChild(bindings:List):Injector {\n    return new Injector(bindings, {parent: this});\n  }\n\n\n  _createListOfBindings(flattenBindings):List {\n    var bindings = ListWrapper.createFixedSize(Key.numberOfKeys + 1);\n    MapWrapper.forEach(flattenBindings, (v, keyId) => bindings[keyId] = v);\n    return bindings;\n  }\n\n  _createInstances():List {\n    return ListWrapper.createFixedSize(Key.numberOfKeys + 1);\n  }\n\n  _getByKey(key:Key, returnPromise:boolean, returnLazy:boolean, optional:boolean) {\n    if (returnLazy) {\n      return () => this._getByKey(key, returnPromise, false, optional);\n    }\n\n    var strategy = returnPromise ? this._asyncStrategy : this._syncStrategy;\n\n    var instance = strategy.readFromCache(key);\n    if (instance !== _notFound) return instance;\n\n    instance = strategy.instantiate(key);\n    if (instance !== _notFound) return instance;\n\n    if (isPresent(this._parent)) {\n      return this._parent._getByKey(key, returnPromise, returnLazy, optional);\n    }\n\n    if (optional) {\n      return null;\n    } else {\n      throw new NoProviderError(key);\n    }\n  }\n\n  _resolveDependencies(key:Key, binding:Binding, forceAsync:boolean):List {\n    try {\n      var getDependency = d => this._getByKey(d.key, forceAsync || d.asPromise, d.lazy, d.optional);\n      return ListWrapper.map(binding.dependencies, getDependency);\n    } catch (e) {\n      this._clear(key);\n      if (e instanceof ProviderError) e.addKey(key);\n      throw e;\n    }\n  }\n\n  _getInstance(key:Key) {\n    if (this._instances.length <= key.id) return null;\n    return ListWrapper.get(this._instances, key.id);\n  }\n\n  _setInstance(key:Key, obj) {\n    ListWrapper.set(this._instances, key.id, obj);\n  }\n\n  _getBinding(key:Key) {\n    var binding = this._bindings.length <= key.id ?\n      null :\n      ListWrapper.get(this._bindings, key.id);\n\n    if (isBlank(binding) && this._defaultBindings) {\n      return bind(key.token).toClass(key.token);\n    } else {\n      return binding;\n    }\n  }\n\n  _markAsConstructing(key:Key) {\n    this._setInstance(key, _constructing);\n  }\n\n  _clear(key:Key) {\n    this._setInstance(key, null);\n  }\n}\n\n\nclass _SyncInjectorStrategy {\n  injector:Injector;\n  constructor(injector:Injector) {\n    this.injector = injector;\n  }\n\n  readFromCache(key:Key) {\n    if (key.token === Injector) {\n      return this.injector;\n    }\n\n    var instance = this.injector._getInstance(key);\n\n    if (instance === _constructing) {\n      throw new CyclicDependencyError(key);\n    } else if (isPresent(instance) && !_isWaiting(instance)) {\n      return instance;\n    } else {\n      return _notFound;\n    }\n  }\n\n  instantiate(key:Key) {\n    var binding = this.injector._getBinding(key);\n    if (isBlank(binding)) return _notFound;\n\n    if (binding.providedAsPromise) throw new AsyncBindingError(key);\n\n    //add a marker so we can detect cyclic dependencies\n    this.injector._markAsConstructing(key);\n\n    var deps = this.injector._resolveDependencies(key, binding, false);\n    return this._createInstance(key, binding, deps);\n  }\n\n  _createInstance(key:Key, binding:Binding, deps:List) {\n    try {\n      var instance = FunctionWrapper.apply(binding.factory, deps);\n      this.injector._setInstance(key, instance);\n      return instance;\n    } catch (e) {\n      this.injector._clear(key);\n      throw new InstantiationError(e, key);\n    }\n  }\n}\n\n\nclass _AsyncInjectorStrategy {\n  injector:Injector;\n  constructor(injector:Injector) {\n    this.injector = injector;\n  }\n\n  readFromCache(key:Key) {\n    if (key.token === Injector) {\n      return PromiseWrapper.resolve(this.injector);\n    }\n\n    var instance = this.injector._getInstance(key);\n\n    if (instance === _constructing) {\n      throw new CyclicDependencyError(key);\n    } else if (_isWaiting(instance)) {\n      return instance.promise;\n    } else if (isPresent(instance)) {\n      return PromiseWrapper.resolve(instance);\n    } else {\n      return _notFound;\n    }\n  }\n\n  instantiate(key:Key) {\n    var binding = this.injector._getBinding(key);\n    if (isBlank(binding)) return _notFound;\n\n    //add a marker so we can detect cyclic dependencies\n    this.injector._markAsConstructing(key);\n\n    var deps = this.injector._resolveDependencies(key, binding, true);\n    var depsPromise = PromiseWrapper.all(deps);\n\n    var promise = PromiseWrapper\n      .then(depsPromise, null, (e) => this._errorHandler(key, e))\n      .then(deps => this._findOrCreate(key, binding, deps))\n      .then(instance => this._cacheInstance(key, instance));\n\n    this.injector._setInstance(key, new _Waiting(promise));\n    return promise;\n  }\n\n  _errorHandler(key:Key, e):Promise {\n    if (e instanceof ProviderError) e.addKey(key);\n    return PromiseWrapper.reject(e);\n  }\n\n  _findOrCreate(key:Key, binding:Binding, deps:List) {\n    try {\n      var instance = this.injector._getInstance(key);\n      if (!_isWaiting(instance)) return instance;\n      return FunctionWrapper.apply(binding.factory, deps);\n    } catch (e) {\n      this.injector._clear(key);\n      throw new InstantiationError(e, key);\n    }\n  }\n\n  _cacheInstance(key, instance) {\n    this.injector._setInstance(key, instance);\n    return instance\n  }\n}\n\nfunction _flattenBindings(bindings:List, res:Map) {\n  ListWrapper.forEach(bindings, function (b) {\n    if (b instanceof Binding) {\n      MapWrapper.set(res, b.key.id, b);\n\n    } else if (b instanceof Type) {\n      var s = bind(b).toClass(b);\n      MapWrapper.set(res, s.key.id, s);\n\n    } else if (b instanceof List) {\n      _flattenBindings(b, res);\n\n    } else if (b instanceof BindingBuilder) {\n      throw new InvalidBindingError(b.token);\n\n    } else {\n      throw new InvalidBindingError(b);\n    }\n  });\n  return res;\n}\n","return assert.returnType(($__placeholder__0), $__placeholder__1)","assert.type.$__placeholder__0)","assert.argumentTypes($__placeholder__0)","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","($__placeholder__0 = $__placeholder__1.$__placeholder__2) === void 0 ?\n        $__placeholder__3 : $__placeholder__4","assert.type.any","assert.type.any"]}