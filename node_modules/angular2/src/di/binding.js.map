{"version":3,"sources":["@traceur/generated/TemplateParser/5404","angular2/src/di/binding.js","angular2/src/di/@traceur/generated/TemplateParser/26","@traceur/generated/TemplateParser/5412","@traceur/generated/TemplateParser/5403","@traceur/generated/TemplateParser/5402","@traceur/generated/TemplateParser/5408","@traceur/generated/TemplateParser/5405","@traceur/generated/TemplateParser/5409","angular2/src/di/@traceur/generated/TemplateParser/25","angular2/src/di/@traceur/generated/TemplateParser/23","angular2/src/di/@traceur/generated/TemplateParser/24"],"names":[],"mappings":"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","file":"angular2/src/di/binding.js","sourceRoot":"/Users/radokirov/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {Type, isBlank, isPresent} from 'angular2/src/facade/lang';\nimport {List, MapWrapper, ListWrapper} from 'angular2/src/facade/collection';\nimport {reflector} from 'angular2/src/reflection/reflection';\nimport {Key} from './key';\nimport {Inject, InjectLazy, InjectPromise, Optional, DependencyAnnotation} from './annotations';\nimport {NoAnnotationError} from './exceptions';\n\nexport class Dependency {\n  key:Key;\n  asPromise:boolean;\n  lazy:boolean;\n  optional:boolean;\n  properties:List;\n  constructor(key:Key, asPromise:boolean, lazy:boolean, optional:boolean, properties:List) {\n    this.key = key;\n    this.asPromise = asPromise;\n    this.lazy = lazy;\n    this.optional = optional;\n    this.properties = properties;\n  }\n\n  static fromKey(key:Key) {\n    return new Dependency(key, false, false, false, []);\n  }\n}\n\nexport class Binding {\n  key:Key;\n  factory:Function;\n  dependencies:List;\n  providedAsPromise:boolean;\n\n  constructor(key:Key, factory:Function, dependencies:List, providedAsPromise:boolean) {\n    this.key = key;\n    this.factory = factory;\n    this.dependencies = dependencies;\n    this.providedAsPromise = providedAsPromise;\n  }\n}\n\nexport function bind(token):BindingBuilder {\n  return new BindingBuilder(token);\n}\n\nexport class BindingBuilder {\n  token;\n  constructor(token) {\n    this.token = token;\n  }\n\n  toClass(type:Type):Binding {\n    return new Binding(\n      Key.get(this.token),\n      reflector.factory(type),\n      _dependenciesFor(type),\n      false\n    );\n  }\n\n  toValue(value):Binding {\n    return new Binding(\n      Key.get(this.token),\n      () => value,\n      [],\n      false\n    );\n  }\n\n  toAlias(aliasToken):Binding {\n    return new Binding(\n      Key.get(this.token),\n      (aliasInstance) => aliasInstance,\n      [Dependency.fromKey(Key.get(aliasToken))],\n      false\n    );\n  }\n\n  toFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      false\n    );\n  }\n\n  toAsyncFactory(factoryFunction:Function, dependencies:List = null):Binding {\n    return new Binding(\n      Key.get(this.token),\n      factoryFunction,\n      this._constructDependencies(factoryFunction, dependencies),\n      true\n    );\n  }\n\n  _constructDependencies(factoryFunction:Function, dependencies:List) {\n    return isBlank(dependencies) ?\n      _dependenciesFor(factoryFunction) :\n      ListWrapper.map(dependencies, (t) => Dependency.fromKey(Key.get(t)));\n  }\n}\n\nfunction _dependenciesFor(typeOrFunc):List {\n  var params = reflector.parameters(typeOrFunc);\n  if (isBlank(params)) return [];\n  if (ListWrapper.any(params, (p) => isBlank(p))) throw new NoAnnotationError(typeOrFunc);\n  return ListWrapper.map(params, (p) => _extractToken(typeOrFunc, p));\n}\n\nfunction _extractToken(typeOrFunc, annotations) {\n  var depProps = [];\n  var token = null;\n  var optional = false;\n  var lazy = false;\n  var asPromise = false;\n\n  for (var i = 0; i < annotations.length; ++i) {\n    var paramAnnotation = annotations[i];\n\n    if (paramAnnotation instanceof Type) {\n      token = paramAnnotation;\n\n    } else if (paramAnnotation instanceof Inject) {\n      token = paramAnnotation.token;\n\n    } else if (paramAnnotation instanceof InjectPromise) {\n      token = paramAnnotation.token;\n      asPromise = true;\n\n    } else if (paramAnnotation instanceof InjectLazy) {\n      token = paramAnnotation.token;\n      lazy = true;\n\n    } else if (paramAnnotation instanceof Optional) {\n      optional = true;\n\n    } else if (paramAnnotation instanceof DependencyAnnotation) {\n      ListWrapper.push(depProps, paramAnnotation);\n    }\n  }\n\n  if (isPresent(token)) {\n    return _createDependency(token, asPromise, lazy, optional, depProps);\n  } else {\n    throw new NoAnnotationError(typeOrFunc);\n  }\n}\n\nfunction _createDependency(token, asPromise, lazy, optional, depProps):Dependency {\n  return new Dependency(Key.get(token), asPromise, lazy, optional, depProps);\n}\n","return assert.returnType(($__placeholder__0), $__placeholder__1)","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}